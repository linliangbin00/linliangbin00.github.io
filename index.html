<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-你好，Hexo" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/18/你好，Hexo/" class="article-date">
  <time datetime="2018-08-18T03:30:15.000Z" itemprop="datePublished">2018-08-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/18/你好，Hexo/">你好，Hexo</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/08/18/你好，Hexo/" data-id="cjkz0cejo000290vxg4gb2dqc" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-requests模块" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/18/requests模块/" class="article-date">
  <time datetime="2018-08-18T03:26:32.641Z" itemprop="datePublished">2018-08-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Requests-让-HTTP-服务人类"><a href="#Requests-让-HTTP-服务人类" class="headerlink" title="Requests: 让 HTTP 服务人类"></a>Requests: 让 HTTP 服务人类</h1><p>虽然Python的标准库中 urllib2 模块已经包含了平常我们使用的大多数功能，但是它的 API 使用起来让人感觉不太好，而 Requests 自称 “HTTP for Humans”，说明使用更简洁方便。</p>
<p>Requests 唯一的一个非转基因的 Python HTTP 库，人类可以安全享用：）</p>
<p>Requests 继承了urllib2的所有特性。Requests支持HTTP连接保持和连接池，支持使用cookie保持会话，支持文件上传，支持自动确定响应内容的编码，支持国际化的 URL 和 POST 数据自动编码。</p>
<p>requests 的底层实现其实就是 urllib3<br>Requests的文档非常完备，中文文档也相当不错。Requests能完全满足当前网络的需求，支持Python 2.6—3.5，而且能在PyPy下完美运行。</p>
<p>开源地址：<a href="https://github.com/kennethreitz/requests" target="_blank" rel="noopener">https://github.com/kennethreitz/requests</a></p>
<p>中文文档 API：<a href="http://docs.python-requests.org/zh_CN/latest/index.html" target="_blank" rel="noopener">http://docs.python-requests.org/zh_CN/latest/index.html</a></p>
<h3 id="安装方式"><a href="#安装方式" class="headerlink" title="安装方式"></a>安装方式</h3><p>利用 pip 安装 或者利用 easy_install 都可以完成安装：</p>
<p><code>$ pip install requests</code></p>
<p>$ easy_install requests<br>基本GET请求（headers参数 和 parmas参数）</p>
<h2 id="1-最基本的GET请求可以直接用get方法"><a href="#1-最基本的GET请求可以直接用get方法" class="headerlink" title="1. 最基本的GET请求可以直接用get方法"></a>1. 最基本的GET请求可以直接用get方法</h2><p><code>response = requests.get(&quot;http://www.baidu.com/&quot;)</code></p>
<h2 id="也可以这么写"><a href="#也可以这么写" class="headerlink" title="也可以这么写"></a>也可以这么写</h2><p><code>response = requests.request(&quot;get&quot;, &quot;http://www.baidu.com/&quot;)</code></p>
<ol start="2">
<li>添加 headers 和 查询参数<br>如果想添加 headers，可以传入headers参数来增加请求头中的headers信息。如果要将参数放在url中传递，可以利用params参数。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import requests</span><br><span class="line"></span><br><span class="line">kw = &#123;&apos;wd&apos;:&apos;长城&apos;&#125;</span><br><span class="line"></span><br><span class="line">headers = &#123;&quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36&quot;&#125;</span><br><span class="line"></span><br><span class="line"># params 接收一个字典或者字符串的查询参数，字典类型自动转换为url编码，不需要urlencode()</span><br><span class="line">response = requests.get(&quot;http://www.baidu.com/s?&quot;, params = kw, headers = headers)</span><br><span class="line"></span><br><span class="line"># 查看响应内容，response.text 返回的是Unicode格式的数据</span><br><span class="line">print response.text</span><br><span class="line"></span><br><span class="line"># 查看响应内容，response.content返回的字节流数据</span><br><span class="line">print respones.content</span><br><span class="line"></span><br><span class="line"># 查看完整url地址</span><br><span class="line">print response.url</span><br><span class="line"></span><br><span class="line"># 查看响应头部字符编码</span><br><span class="line">print response.encoding</span><br><span class="line"></span><br><span class="line"># 查看响应码</span><br><span class="line">print response.status_code</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>运行结果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">......</span><br><span class="line"></span><br><span class="line">......</span><br><span class="line"></span><br><span class="line">&apos;http://www.baidu.com/s?wd=%E9%95%BF%E5%9F%8E&apos;</span><br><span class="line"></span><br><span class="line">&apos;utf-8&apos;</span><br><span class="line"></span><br><span class="line">200</span><br></pre></td></tr></table></figure></p>
<p>使用response.text 时，Requests 会基于 HTTP 响应的文本编码自动解码响应内容，大多数 Unicode 字符集都能被无缝地解码。</p>
<p>使用response.content 时，返回的是服务器响应数据的原始二进制字节流，可以用来保存图片等二进制文件。</p>
<h2 id="基本POST请求（data参数）"><a href="#基本POST请求（data参数）" class="headerlink" title="基本POST请求（data参数）"></a>基本POST请求（data参数）</h2><ol>
<li>最基本的GET请求可以直接用post方法<br><code>response = requests.post(&quot;http://www.baidu.com/&quot;, data = data)</code></li>
<li>传入data数据<br>对于 POST 请求来说，我们一般需要为它增加一些参数。那么最基本的传参方法可以利用data这个参数。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">def youdaoAPI(kw):</span><br><span class="line">    &apos;&apos;&apos;</span><br><span class="line">    :param kw: 翻译的内容</span><br><span class="line">    :return:</span><br><span class="line">    &apos;&apos;&apos;</span><br><span class="line">	# translate_o 去掉_o</span><br><span class="line">    url = &quot;http://fanyi.youdao.com/translate?smartresult=dict&amp;smartresult=rule&quot;</span><br><span class="line">    response = requests.post(url, data=kw, headers=header)</span><br><span class="line">    res = response.content</span><br><span class="line">    tgt = json.loads(res)</span><br><span class="line">    print(tgt[&quot;translateResult&quot;])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line"></span><br><span class="line">    kw = input(&quot;请输入你想翻译的内容：&quot;)</span><br><span class="line">    timet = int(time.time() * 1000)</span><br><span class="line">    data = &#123;</span><br><span class="line">        &quot;i&quot;: kw,</span><br><span class="line">        &quot;from&quot;: &quot;AUTO&quot;,</span><br><span class="line">        &quot;to&quot;: &quot;AUTO&quot;,</span><br><span class="line">        &quot;smartresult&quot;: &quot;dict&quot;,</span><br><span class="line">        &quot;client&quot;: &quot;fanyideskweb&quot;,</span><br><span class="line">        &quot;salt&quot;: timet,</span><br><span class="line">        &quot;sign&quot;: &quot;f66461b42fe9edb6d88230788fb33cfb&quot;,</span><br><span class="line">        &quot;doctype&quot;: &quot;json&quot;,</span><br><span class="line">        &quot;version&quot;: &quot;2.1&quot;,</span><br><span class="line">        &quot;keyfrom&quot;: &quot;fanyi.web&quot;,</span><br><span class="line">        &quot;action	&quot;: &quot;FY_BY_REALTIME&quot;,</span><br><span class="line">        &quot;typoResult	&quot;: &quot;false&quot;,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    youdaoAPI(data)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="如果是json文件可以直接显示"><a href="#如果是json文件可以直接显示" class="headerlink" title="如果是json文件可以直接显示"></a>如果是json文件可以直接显示</h1><p><code>print response.json()</code><br>运行结果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;type&quot;:&quot;EN2ZH_CN&quot;,&quot;errorCode&quot;:0,&quot;elapsedTime&quot;:2,&quot;translateResult&quot;:[[&#123;&quot;src&quot;:&quot;i love python&quot;,&quot;tgt&quot;:&quot;我喜欢python&quot;&#125;]],&quot;smartResult&quot;:&#123;&quot;type&quot;:1,&quot;entries&quot;:[&quot;&quot;,&quot;肆文&quot;,&quot;高德纳&quot;]&#125;&#125;</span><br><span class="line"></span><br><span class="line">&#123;u&apos;errorCode&apos;: 0, u&apos;elapsedTime&apos;: 0, u&apos;translateResult&apos;: [[&#123;u&apos;src&apos;: u&apos;i love python&apos;, u&apos;tgt&apos;: u&apos;\u6211\u559c\u6b22python&apos;&#125;]], u&apos;smartResult&apos;: &#123;u&apos;type&apos;: 1, u&apos;entries&apos;: [u&apos;&apos;, u&apos;\u8086\u6587&apos;, u&apos;\u9ad8\u5fb7\u7eb3&apos;]&#125;, u&apos;type&apos;: u&apos;EN2ZH_CN&apos;&#125;</span><br></pre></td></tr></table></figure></p>
<p>代理（proxies参数）<br>如果需要使用代理，你可以通过为任意请求方法提供proxies参数来配置单个请求：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line"># 根据协议类型，选择不同的代理</span><br><span class="line">proxies = &#123;</span><br><span class="line">  &quot;http&quot;: &quot;http://12.34.56.79:9527&quot;,</span><br><span class="line">  &quot;https&quot;: &quot;http://12.34.56.79:9527&quot;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">response = requests.get(&quot;http://www.baidu.com&quot;, proxies = proxies)</span><br><span class="line">print response.text</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 带密码代理</span><br><span class="line">httpProxy = &#123;&quot;https&quot;: &quot;http://User1:123456@10.3.132.6:808&quot;&#125;</span><br></pre></td></tr></table></figure></p>
<p>web客户端验证<br>如果是Web客户端验证，需要添加 auth = (账户名, 密码)</p>
<p>web客户端验证<br>如果是Web客户端验证，需要添加 auth = (账户名, 密码)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">auth=(&apos;test&apos;, &apos;123456&apos;)</span><br><span class="line"></span><br><span class="line">response = requests.get(&apos;http://192.168.199.107&apos;, auth = auth)</span><br><span class="line"></span><br><span class="line">print response.text</span><br></pre></td></tr></table></figure></p>
<p>urllib2 泪奔…</p>
<h2 id="Cookies-和-Sission"><a href="#Cookies-和-Sission" class="headerlink" title="Cookies 和 Sission"></a>Cookies 和 Sission</h2><h3 id="Cookies"><a href="#Cookies" class="headerlink" title="Cookies"></a>Cookies</h3><p>如果一个响应中包含了cookie，那么我们可以利用 cookies参数拿到：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">response = requests.get(&quot;http://www.baidu.com/&quot;)</span><br><span class="line"></span><br><span class="line"># 7. 返回CookieJar对象:</span><br><span class="line">cookiejar = response.cookies</span><br><span class="line"></span><br><span class="line"># 8. 将CookieJar转为字典：</span><br><span class="line">cookiedict = requests.utils.dict_from_cookiejar(cookiejar)</span><br><span class="line"></span><br><span class="line">print cookiejar</span><br><span class="line"></span><br><span class="line">print cookiedict</span><br></pre></td></tr></table></figure></p>
<p>运行结果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;RequestsCookieJar[&lt;Cookie BDORZ=27315 for .baidu.com/&gt;]&gt;</span><br><span class="line"></span><br><span class="line">&#123;&apos;BDORZ&apos;: &apos;27315&apos;&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="Sission"><a href="#Sission" class="headerlink" title="Sission"></a>Sission</h3><p>在 requests 里，session对象是一个非常常用的对象，这个对象代表一次用户会话：从客户端浏览器连接服务器开始，到客户端浏览器与服务器断开。</p>
<p>会话能让我们在跨请求时候保持某些参数，比如在同一个 Session 实例发出的所有请求之间保持 cookie 。</p>
<p>在如上的例子中我们可以看到，首先需要获取到sessionID然后再另外一个接口请求中需要带上，这样其实存在很多的缺点的，最主要的缺点是当接口用例很多的时候，都需要带上那么就意味着每调用一个接口都得必须执行login()的函数，下来我们使用另外一种方式，也就是requests的session会话对象来进行处理。会话对象让你能够跨请求保持某些参数。它也会在同一个 Session 实例发出的所有请求之间保持 cookie， 期间使用 urllib3 的connection pooling 功能。（此段来源于网站<a href="http://www.cnblogs.com/jason89/p/9033949.html）" target="_blank" rel="noopener">http://www.cnblogs.com/jason89/p/9033949.html）</a></p>
<p>在cookies的处理上会话对象一句话可以顶过好几句urllib模块下的操作。即相当于urllib中的：(此段来源于网站<a href="https://blog.csdn.net/xiaozhanger/article/details/78034015" target="_blank" rel="noopener">https://blog.csdn.net/xiaozhanger/article/details/78034015</a>)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cj = http.cookiejar.CookieJar()</span><br><span class="line">pro = urllib.request.HTTPCookieProcessor(cj)</span><br><span class="line">opener = urllib.request.build_opener(pro)</span><br><span class="line">urllib.request.install_opener(opener)</span><br></pre></td></tr></table></figure>
<p>实现人人网登录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line"># 1. 创建session对象，可以保存Cookie值</span><br><span class="line">ssion = requests.session()</span><br><span class="line"></span><br><span class="line"># 2. 处理 headers</span><br><span class="line">headers = &#123;&quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36&quot;&#125;</span><br><span class="line"></span><br><span class="line"># 3. 需要登录的用户名和密码</span><br><span class="line">data = &#123;&quot;email&quot;:&quot;mr_mao_hacker@163.com&quot;, &quot;password&quot;:&quot;alarmchime&quot;&#125;  </span><br><span class="line"></span><br><span class="line"># 4. 发送附带用户名和密码的请求，并获取登录后的Cookie值，保存在ssion里</span><br><span class="line">ssion.post(&quot;http://www.renren.com/PLogin.do&quot;, data = data)</span><br><span class="line"></span><br><span class="line"># 5. ssion包含用户登录后的Cookie值，可以直接访问那些登录后才可以访问的页面</span><br><span class="line">response = ssion.get(&quot;http://www.renren.com/410043129/profile&quot;)</span><br><span class="line"></span><br><span class="line"># 6. 打印响应内容</span><br><span class="line">print response.text</span><br><span class="line">处理HTTPS请求 SSL证书验证</span><br><span class="line">Requests也可以为HTTPS请求验证SSL证书：</span><br><span class="line"></span><br><span class="line">要想检查某个主机的SSL证书，你可以使用 verify 参数（也可以不写）</span><br><span class="line">import requests</span><br><span class="line">response = requests.get(&quot;https://www.baidu.com/&quot;, verify=True)</span><br><span class="line"></span><br><span class="line"># 也可以省略不写</span><br><span class="line"># response = requests.get(&quot;https://www.baidu.com/&quot;)</span><br><span class="line">print r.text</span><br></pre></td></tr></table></figure></p>
<p>运行结果：</p>
<p>百度一下，你就知道 ….<br>如果SSL证书验证不通过，或者不信任服务器的安全证书，则会报出SSLError，据说 12306 证书是自己做的：<br>来测试一下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">response = requests.get(&quot;https://www.12306.cn/mormhweb/&quot;)</span><br><span class="line">print response.text</span><br><span class="line">果然：</span><br><span class="line"></span><br><span class="line">SSLError: (&quot;bad handshake: Error([(&apos;SSL routines&apos;, &apos;ssl3_get_server_certificate&apos;, &apos;certificate verify failed&apos;)],)&quot;,)</span><br><span class="line"></span><br><span class="line">如果我们想跳过 12306 的证书验证，把 verify 设置为 False 就可以正常请求了。</span><br><span class="line"></span><br><span class="line">import requests</span><br><span class="line">response = requests.get(&quot;https://www.12306.cn/mormhweb/&quot;,verify=False)</span><br><span class="line">print response.text</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/08/18/requests模块/" data-id="cjkz0cejh000190vx8edtb3zw" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/18/hello-world/" class="article-date">
  <time datetime="2018-08-18T02:42:40.364Z" itemprop="datePublished">2018-08-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/18/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/08/18/hello-world/" data-id="cjkz0cej4000090vx3ine1h0x" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/08/18/你好，Hexo/">你好，Hexo</a>
          </li>
        
          <li>
            <a href="/2018/08/18/requests模块/">(no title)</a>
          </li>
        
          <li>
            <a href="/2018/08/18/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>